<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AudioZoom</title>
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
	  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script src="https://vjs.zencdn.net/7.20.3/video.js"></script>
		<link rel="stylesheet" href="/index.css"/>
</head>
<body>
    <header>
        <h1><a href="/index.html" class="head1">AudioZoom</a></h1>
		<a href="/admin" class="admin-link">ç®¡ç†ç”»é¢</a>
        <a href="/users" class="admin-link">ğŸ‘¥ ãƒ¦ãƒ¼ã‚¶ãƒ¼DB</a>
    </header>
    
    <div style="padding: 20px; background:#f5f5f5; margin:10px;border-radius:6px;">
        <h3>ğŸ“º ãƒ¡ãƒ‡ã‚£ã‚¢ã‚½ãƒ¼ã‚¹é¸æŠ</h3>
        <select id="media_select" style="padding:8px; border:1px solid #ddd; border-radius:4px; width:100%; max-width:500px;">
            <option value="">-- ãƒ¡ãƒ‡ã‚£ã‚¢ã‚’é¸æŠã—ã¦ãã ã•ã„ --</option>
            {% for media in media_list %}
            <option value="{{ media.relative_path }}" data-type="{{ media.media_type }}">{{ media.media_name }}</option>
            {% endfor %}
        </select>
        <p style="font-size:0.9em; color:#666;margin-top:8px;">åˆè¨ˆ: {{ media_list|length }} å€‹ã®ãƒ¡ãƒ‡ã‚£ã‚¢ã‚½ãƒ¼ã‚¹</p>
    </div>
    <p id="output"></p>
    <p id="output1"></p>
    <hr>
		<figcaption>å‹•ç”»:</figcaption><br>
			<div class="video-wrapper">
                <button id="play_btn">play</button>
				<video id="video" class="video-js vjs-default-skin" controls preload="auto" width="1280" height="720"></video>
			<!-- <video id="video" class="video" src="./media/ã‚µãƒ³ãƒ—ãƒ«å‹•ç”»ã®ã‚³ãƒ”ãƒ¼.mp4"></video> -->
			</div>
		<div class="media">
    <div><figcaption>å·¦:</figcaption>
        <audio id="audio1" controls preload="metadata"></audio></div>
    <div><figcaption>å³:</figcaption>
        <audio id="audio2" controls preload="metadata"></audio></div>
    </div>

    </div>

		<!-- <video id="audio_left" controls> -->
		<!-- <script>
		const video = document.getElementById('video');
		const url = './live/output.m3u8';

		if (Hls.isSupported()) {
			const hls = new Hls();
			hls.loadSource(url);
			hls.attachMedia(video);
		} else if (video.canPlayType('application/vnd.apple.mpegurl')) {
			video.src = url;
		}
		</script> -->
		<script src="/js/main.js"></script>
</body>
</html>